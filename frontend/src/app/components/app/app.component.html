<div class="app-container">
  <div *ngIf="currentView === 'landing'">
    <app-landing 
      (showLogin)="showLogin()"
      (showRegister)="showRegister()">
    </app-landing>
  </div>

  <div *ngIf="currentView === 'login'">
    <app-login 
      (switchToRegister)="showRegister()"
      (switchToForgotPassword)="showForgotPassword()"
      (loginSuccess)="showTodo()"
      (backToLanding)="showLanding()">
    </app-login>
  </div>

  <div *ngIf="currentView === 'register'">
    <app-registration 
      (switchToLogin)="showLogin()"
      (backToLanding)="showLanding()">
    </app-registration>
  </div>

  <div *ngIf="currentView === 'forgot-password'">
    <app-forgot-password (backToLogin)="showLogin()"></app-forgot-password>
  </div>

  <div *ngIf="currentView === 'reset-password'">
    <app-reset-password (backToLogin)="showLogin()"></app-reset-password>
  </div>

  <div *ngIf="currentView === 'todo'">
    <header class="app-header">
      <div class="user-panel">
        <div class="user-avatar" (click)="toggleUserDropdown()">
          {{ getUserInitial() }}
        </div>
        
        <div *ngIf="showUserDropdown" class="user-dropdown" (click)="closeDropdown()">
          <div class="dropdown-content">
            <div class="user-info">
              <div class="user-name">{{ currentUser?.firstName }} {{ currentUser?.lastName }}</div>
              <div class="user-email">{{ currentUser?.email }}</div>
            </div>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item" (click)="logout()">
              Çıkış Yap
            </button>
          </div>
        </div>
      </div>
      <h1>ToDo List App</h1>
    </header>
    
    <main class="app-main">
      <app-todo-list></app-todo-list>
    </main>
    
    <footer class="app-footer">
      <div class="footer-content">
        <p>&copy; 2025 Todo App. Arda Çavuş tarafından geliştirilmiştir.</p>
        <p>Yapılacaklar listenizi organize edin ve üretkenliğinizi artırın.</p>
      </div>
    </footer>
  </div>
</div>

<app-loading></app-loading>
<app-notification></app-notification>