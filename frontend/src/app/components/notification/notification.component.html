<div class="notification-overlay"
     *ngIf="notification"
     [class]="'notification-' + notification.type"
     (click)="handleBackdropClick()">

  <div class="notification-modal"
       [class]="'modal-' + notification.type"
       (click)="$event.stopPropagation()"
       [@slideIn]
       role="dialog"
       aria-labelledby="notificationTitle"
       aria-describedby="notificationMessage">

    <div class="notification-header" [class]="'header-' + notification.type">
      <div class="header-content">
        <span class="notification-icon" aria-hidden="true">{{ notification.icon }}</span>
        <h3 id="notificationTitle">{{ notification.title }}</h3>
      </div>
      <button *ngIf="!isConfirmType()"
              class="close-btn"
              (click)="close()"
              aria-label="Kapat">×</button>
    </div>

    <div class="notification-body">
      <p id="notificationMessage" class="notification-message">{{ notification.message }}</p>

      <div class="notification-details" *ngIf="notification.details">
        <strong>"{{ notification.details }}"</strong>
      </div>

      <div class="progress-container" *ngIf="notification.duration && notification.duration > 0">
        <div class="progress-bar" [style.animation-duration.ms]="notification.duration"></div>
      </div>
    </div>

    <div class="notification-actions" *ngIf="isConfirmType()">
      <button type="button"
              class="btn btn-cancel"
              (click)="handleCancel()">
        {{ notification.cancelText || '❌ İptal' }}
      </button>

      <button type="button"
              class="btn btn-confirm"
              [class]="'btn-' + notification.type"
              (click)="handleConfirm()">
        {{ notification.confirmText || '✅ Tamam' }}
      </button>
    </div>
  </div>
</div>
